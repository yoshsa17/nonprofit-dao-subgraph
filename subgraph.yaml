specVersion: 0.0.2
description: Non Profit DAO subgraph
repository: https://github.com/yshrsail/non-profit-dao-subgraph
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: NToken
    network: mainnet
    source:
      address: "0x3A899d20932F44fC1daa9AD99bf5DFf9f8537d96"
      abi: NToken
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      file: ./src/mappings.ts
      entities:
        - User
      abis:
        - name: NToken
          file: ./abis/NToken.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
  - kind: ethereum/contract
    name: Treasury
    network: mainnet
    source:
      address: "0xA675493DFcfc79a6EED42510c123deD34eDBEc04"
      abi: Treasury
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      file: ./src/mappings.ts
      entities:
        - Transaction
      abis:
        - name: Treasury
          file: ./abis/Treasury.json
      eventHandlers:
        - event: EtherSent(uint256,address,uint256,string)
          handler: handleEtherSent
        - event: EtherDeposited(uint256,address,uint256,string)
          handler: handleEtherDeposited
  - kind: ethereum/contract
    name: Reputation
    network: mainnet
    source:
      address: "0x491C8Fe4579a28B4940DAe634aB0F0F0bE478623"
      abi: Reputation
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      file: ./src/mappings.ts
      entities:
        - EvaluationRound
        - Reputation
        - User
      abis:
        - name: Reputation
          file: ./abis/Reputation.json
      eventHandlers:
        - event: EvaluationStarted(uint256,address[],uint256,uint256)
          handler: handleEvaluationStarted
        - event: ReputationMinted(uint256,address,address,uint256,string)
          handler: handleReputationMinted
  - kind: ethereum/contract
    name: Voting
    network: mainnet
    source:
      address: "0x411A661253C605b4f74Ef3cc92065d07C6d47611"
      abi: Voting
      startBlock: 0
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      file: ./src/mappings.ts
      entities:
        - Proposal
        - Vote
        - User
      abis:
        - name: Voting
          file: ./abis/Voting.json
      eventHandlers:
        - event: ProposalCreated(uint256,address,string,address[],uint256[],bytes[],uint256,uint256)
          handler: handleProposalCreated
        - event: VoteCast(address,uint256,uint8,uint256,string)
          handler: handleVoteCast
        - event: ProposalCanceled(uint256)
          handler: handleProposalCanceled
        - event: ProposalExecuted(uint256)
          handler: handleProposalExecuted
